<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Static Site Generator">
    <meta name="keywords" content="">
    <title>Code Maven Static Site Generator</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css">

    <!--
      https://highlightjs.org/
    -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/atom-one-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>

    <meta prefix="og: https://ogp.me/ns#" property="og:type" content="article" />
    <meta prefix="og: https://ogp.me/ns#" property="og:url" content="https://ssg.rust.code-maven.com/" />
    <meta prefix="og: https://ogp.me/ns#" property="og:title" content="Code Maven Static Site Generator" />
    <meta prefix="og: https://ogp.me/ns#" property="og:description" content="Static Site Generator" />
    <meta prefix="og: https://ogp.me/ns#" property="og:site_name" content="Code Maven site generator" />
    <meta prefix="og: https://ogp.me/ns#" property="og:image" content="https://ssg.rust.code-maven.com/img/index.png" />

    <meta name="twitter:creator" content="@szabgab">
    <meta name="twitter:title" content="Code Maven Static Site Generator">
    <meta name="twitter:description" content="Static Site Generator">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:widgets:new-embed-design" content="on">
    <meta name="twitter:image:src" content="https://ssg.rust.code-maven.com/img/index.png">

  </head>
  <body>

    <section class="section">
      <div class="container">
            <nav class="navbar" role="navigation" aria-label="main navigation">
      <div class="navbar-brand">

        <a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false" data-target="navbar-home">
          <span aria-hidden="true"></span>
          <span aria-hidden="true"></span>
          <span aria-hidden="true"></span>
        </a>
      </div>

      <div id="navbar-home" class="navbar-menu">
        <div class="navbar-start">
          <a href="/" class="navbar-item">Home</a>
          
        </div>
        <div class="navbar-end">
          <div class="navbar-item">
            <a href="/about" class="navbar-item">About</a>
              
          </div>
        </div>
      </div>
    </nav>

      </div>
    </section>

  <section class="section">
    <div class="container">
      <h1 class="title">
        Code Maven Static Site Generator
      </h1>
      
      <div class="content">
        <p>This is the static site generator behind the <a href="https://rust.code-maven.com/">Rust Maven</a> web site and a <a href="/where-is-it-used">couple of other sites</a>.</p>
<h2 class="title is-4">Linux:</h2>
<p>Download <a href="/code-maven">code-maven</a> and make it executable</p>
<pre><code>chmod +x code-maven
</code></pre>
<h2 class="title is-4">Setup - Create new site locally</h2>
<p>Run</p>
<pre><code>code-maven new --root path-to-new-site
</code></pre>
<p>This will create a folder to hold the site. This is the layout of the folder:</p>
<pre><code>$ tree
.
├── authors
│   └── foobar.md
├── config.yaml
├── .gitignore
└── pages
    ├── about.md
    └── index.md
</code></pre>
<ul>
<li>In the folder it will create a file called <code>config.yaml</code> based on the one in the <code>demo</code> folder of the <a href="https://github.com/szabgab/code-maven.rs">repository</a> or based on <a href="https://github.com/szabgab/code-maven.rs/blob/main/site/config.yaml">this config.yaml</a>. Explanation about the fields will be included in the skeleton site and can be also seen <a href="https://github.com/szabgab/code-maven.rs/blob/main/test_cases/skeleton/config.yaml">here</a>.</li>
</ul>
<p>It will create a folder called <code>pages</code> with a number of pages:</p>
<p>A file called <code>index.md</code> based on <a href="https://raw.githubusercontent.com/szabgab/code-maven.rs/main/site/pages/index.md">this file</a>. The field in the front-matter, at the top are the important bit. See the format below.</p>
<p>The <code>authors</code> folder will hold information about each author. As an example an author called <code>foobar</code> is used for the default pages and a file is created for this author.</p>
<h2 class="title is-4">Generate the web site</h2>
<pre><code>cd path-to-new-site
</code></pre>
<p>Run <code>code-maven web</code>.   It will generated the site in the <code>_site</code> folder.</p>
<ul>
<li>If something is unclear or does not work as you expected open issues on the <a href="https://github.com/szabgab/code-maven.rs">project</a>.</li>
</ul>
<h2 class="title is-4">Format Front-Matter</h2>
<p>Each page is generated from a Markdown file located in the <code>pages</code> folder.</p>
<p>At the top of the file there must be a section for the front-matter that is in YAML format:</p>
<pre><code>---
title: The title of the article
timestamp: 2015-10-11T12:30:01       # The timestamp is used for the ordering and therefor 
it must be unique. We assume it is in UTC.
description: Longer text             # This will be used in the `description` meta field of the page for SEO and in the Open Graph field.
author:                              # The nicname of the author. Each author must be listed in the config.yaml file (this helps you avoid typos)
published: false                     # If it is false the page is generated but not linked from anywhere so only people with the URL can see it.
                                     # Set `published` to `true` to link it from the archive, tags, atom, sitemap.xml.
                                     # The `code-maven drafts` command will list all the articles that are set to `false`.

tags:                                # tags are free text, but remember it is markdown, so some characters might need to be in quotes.
  - web
  - rust

todo:                                # As I write articles I often have ideas for related articles I put them in the todo list
                                     # The `code-maven todo` command will list all the TODO items
  - Add another article extending on the topic
  - Add an article describing a prerequisite
---
</code></pre>
<p>After this front-matter feel free to write any Markdown.</p>
<h2 class="title is-4">Special syntax</h2>
<p>There is some <a href="/special-syntax">Special Syntax</a> - tags you can embed in the Markdown files.</p>
<h2 class="title is-4">View the site locally</h2>
<p>You can open the individual pages in the <code>_site</code> folder using your browser or you can run a mini web server serving static pages.</p>
<p>For the latter download <a href="https://rustatic.code-maven.com/">rustatic</a> and run</p>
<pre><code>rustatic --path _site/ --nice --indexfile index.html --port 500
</code></pre>
<h2 class="title is-4">Generate list of recent posts</h2>
<p>With links to post from the last 3 days (actually 3*24 hours)</p>
<pre><code>cd source-of-the-site
code-maven recent --days 3
</code></pre>
<h2 class="title is-4">Logging</h2>
<p>You can add the <code>--debug</code> flag to get detailed logging of what's going on, the flag must come <strong>before</strong> the command:</p>
<pre><code>code-maven --debug web
</code></pre>
<h2 class="title is-4">GitHub pages</h2>
<p>In order to setup a site on GitHub pages crate a file called <code>/.github/workflows/gh-pages.yml</code>  (the folder matters, the actual name of the file can be anything as long as the extension is <code>.yml</code> or <code>.yaml</code>.)</p>
<p>The content of the file:</p>
<p><strong><a href="https://github.com/szabgab/code-maven.rs/tree/main/include/gh-pages.yml">include/gh-pages.yml</a></strong></p>
<pre><code class="language-yaml">name: Deploy GitHub Pages
on:
  push:
    branches: [&quot;main&quot;]
  workflow_dispatch:

# Sets permissions of the GITHUB_TOKEN to allow deployment to GitHub Pages
permissions:
  contents: read
  pages: write
  id-token: write

# Allow only one concurrent deployment, skipping runs queued between the run in-progress and latest queued.
# However, do NOT cancel in-progress runs as we want to allow these production deployments to complete.
concurrency:
  group: &quot;pages&quot;
  cancel-in-progress: false

jobs:
  # Build job
  build:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout site source
        uses: actions/checkout@v3

      - name: Setup Pages
        uses: actions/configure-pages@v3

      - name: Download processor
        run: |
          wget https://ssg.code-maven.com/code-maven
          chmod +x code-maven

      - name: Generate pages
        run: |
          ./code-maven web
          cp images/* _site/images/

      - name: Upload artifact
        uses: actions/upload-pages-artifact@v2

  # Deployment job
  deploy:
    environment:
      name: github-pages
      url: ${{ steps.deployment.outputs.page_url }}
    runs-on: ubuntu-latest
    needs: build
    steps:
      - name: Deploy to GitHub Pages
        id: deployment
        uses: actions/deploy-pages@v2

</code></pre>
<h2 class="title is-4">Questions and Support</h2>
<p>If you have encountered a bug, or if you would like to have a new feature, or just would like to ask a question, please open an <a href="https://github.com/szabgab/code-maven.rs/">issue</a>.</p>

      </div>
    </div>   
  </section>
  <footer class="footer">
    <div class="content has-text-centered">
      <p>The <a href="https://github.com/szabgab/code-maven.rs">Code Maven RS</a>. <a href="https://github.com/szabgab/code-maven.rs/blob/main/pages/index.md">source</a></p>
    </div>
  </footer>  


<script>
document.addEventListener('DOMContentLoaded', () => {

// Get all "navbar-burger" elements
const $navbarBurgers = Array.prototype.slice.call(document.querySelectorAll('.navbar-burger'), 0);

// Add a click event on each of them
$navbarBurgers.forEach( el => {
  el.addEventListener('click', () => {

    // Get the target from the "data-target" attribute
    const target = el.dataset.target;
    const $target = document.getElementById(target);

    // Toggle the "is-active" class on both the "navbar-burger" and the "navbar-menu"
    el.classList.toggle('is-active');
    $target.classList.toggle('is-active');

  });
});

});
</script>

  </body>
</html>



